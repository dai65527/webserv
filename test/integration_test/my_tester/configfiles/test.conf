server {
    listen 8000;
    server_name localhost;
    root ./html/default_server/;
    index index.html;
    limit_except GET TRACE HEAD;

    location /directory {
        root ./html/default_server/dir1/;
        limit_except GET POST;
        cgi_extension bla;
        cgi_pass ./cgi_tester; # cgi tester of 42
    }

    location /autoindex_on {
        root ./html/default_server/;
        autoindex on;
    }

    location /upload {
        upload_pass /upload;
        upload_store /uploadstore;
        limit_except GET HEAD PUT;
    }

    location /needauth {
        root ./html/default_server/dir_needauth/;
        auth_basic_user_pass user:password;
    }

    location /cgi_script {
        root ./html/default_server/cgi_script;
        limit_except GET PUT POST;
        cgi_extension cgi;
    }
}

server {
    listen 8000;
    server_name 127.0.0.1;
    root ./html/non_default_server/;
    index index.html;
}
